<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technology Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #2d3561 0%, #1a1d3a 50%, #0f1419 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .form-container {
            background: rgba(45, 53, 97, 0.3);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-title {
            color: white;
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .form-subtitle {
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            margin-bottom: 40px;
            font-size: 16px;
        }

        .question-block {
            margin-bottom: 15px; /* Reduced from 35px */
        }

        .question-title {
            color: white;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px; /* Reduced from 15px */
            line-height: 1.4;
        }

        .question-subtext {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            margin-bottom: 15px; /* Reduced from 25px */
            line-height: 1.5;
            font-style: italic;
        }

        .question-subtext strong {
            color: rgba(255, 255, 255, 0.9);
            font-weight: bold;
        }

        .required {
            color: #ff4444;
            margin-left: 3px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px; /* Reduced from 15px */
        }

        .option {
            position: relative;
            cursor: pointer;
        }

        .option input[type="radio"],
        .option input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .option-label {
            display: block;
            background: rgba(108, 122, 137, 0.3);
            color: white;
            padding: 18px 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 16px;
            position: relative;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .option-label:hover {
            background: rgba(108, 122, 137, 0.5);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .option input:checked + .option-label {
            background: rgba(76, 175, 80, 0.4);
            border-color: #4CAF50;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
            transform: translateY(-1px);
        }

        .other-input {
            margin-top: 12px;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(108, 122, 137, 0.2);
            color: white;
            font-size: 14px;
            width: 100%;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            display: none;
        }

        .other-input:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
            background: rgba(108, 122, 137, 0.4);
        }

        .other-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Email Input Styles */
        .email-section {
            margin-bottom: 25px; /* Reduced from 35px */
        }

        .email-input-container {
            position: relative;
            display: flex;
            align-items: center;
            background: rgba(108, 122, 137, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .email-input-container:focus-within {
            border-color: #4CAF50;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
            background: rgba(108, 122, 137, 0.5);
        }

        .email-input {
            padding: 18px 25px;
            border: none;
            background: transparent;
            color: white;
            font-size: 16px;
            flex: 1;
            outline: none;
        }

        .email-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .gmail-suffix {
            color: rgba(255, 255, 255, 0.8);
            font-size: 16px;
            padding-right: 25px;
            pointer-events: none;
        }

        .submit-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 50px auto 0;
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        /* Sound Toggle Button */
        .sound-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .sound-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .error-message {
            color: #ff4444;
            font-size: 14px;
            margin-top: 6px; /* Reduced from 8px */
            display: none;
        }

        @media (max-width: 768px) {
            .form-container {
                padding: 30px 25px;
                margin: 10px;
                max-width: 95%;
            }
            
            .form-title {
                font-size: 26px;
            }
            
            .question-title {
                font-size: 18px;
            }
            
            .option-label {
                padding: 15px 20px;
                font-size: 15px;
            }

            .email-input {
                padding: 15px 20px;
                font-size: 15px;
            }

            .sound-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Sound Toggle Button -->
    <button class="sound-toggle" id="soundToggle">ðŸ”Š</button>

    <div class="form-container">
        <h1 class="form-title">
            ðŸ“± Technology FOMO? stay updated!
        </h1>
        <p class="form-subtitle">Tujhe kabhi esa laga ki mujhe ye cheeze pata honi chahiye par nahi hai ?!</p>
        
        <form id="techSurveyForm">
            <!-- Question 1 -->
            <div class="question-block">
                <h2 class="question-title">Have you ever wanted to stay updated with cutting-edge Tech advancements?

 <span class="required">*</span></h2>
                <p class="question-subtext">E.g., you saw a cool AI Agent framework on social media, but couldn't follow it properly. <strong>bhai meri hi feild me updated nahi reh pa raha hu!!</strong> </p>
                <div class="options-container">
                    <div class="option">
                        <input type="radio" id="q1_yes" name="question1" value="Yes" required>
                        <label for="q1_yes" class="option-label">Yes</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q1_no" name="question1" value="No" required>
                        <label for="q1_no" class="option-label">No</label>
                    </div>
                </div>
                <div class="error-message" id="q1-error">Please select an option for Question 1</div>
            </div>

            <!-- Question 2 -->
            <div class="question-block">
                <h2 class="question-title">2. Do you feel that you want to be updated, but you are not able to catch up with the advancedments? having FOMO? <span class="required">*</span></h2>
                <p class="question-subtext"> E.g., I am in AI/ML feild, but i don't know many things (libraries, researhes, models etc) which i should have known! <strong> FOMO!! bhai esa bhi hota hai kya!!</strong></p>
                <div class="options-container">
                    <div class="option">
                        <input type="radio" id="q2_yes" name="question2" value="Yes" required>
                        <label for="q2_yes" class="option-label">Yes</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_no" name="question2" value="No" required>
                        <label for="q2_no" class="option-label">No</label>
                    </div>
                </div>
                <div class="error-message" id="q2-error">Please select an option for Question 2</div>
            </div>

            <!-- Question 3 -->
            <div class="question-block">
                <h2 class="question-title">What makes it hard for you to stay truly up-to-date with new knowledge of your field?<span class="required">*</span></h2>
                <p class="question-subtext">Select all that apply. Understanding your specific challenges helps us create better solutions for technology learning.</p>                <div class="options-container">
                    <div class="option">
                        <input type="checkbox" id="q3_time" name="question3" value="Time constraints">
                        <label for="q3_time" class="option-label">Time constraints</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_overload" name="question3" value="Information overload">
                        <label for="q3_overload" class="option-label">Information overload</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_structured" name="question3" value="Lack of structured learning paths">
                        <label for="q3_structured" class="option-label">Lack of structured learning paths</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_cost" name="question3" value="Cost of courses/resources">
                        <label for="q3_cost" class="option-label">Cost of courses/resources</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_start" name="question3" value="Not knowing where to start">
                        <label for="q3_start" class="option-label">Not knowing where to start</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_technical" name="question3" value="Difficulty understanding technical concepts">
                        <label for="q3_technical" class="option-label">Difficulty understanding technical concepts</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_other" name="question3" value="Other">
                        <label for="q3_other" class="option-label">Other (Please specify)</label>
                        <input type="text" id="other_text" class="other-input" placeholder="Please specify your challenge..." disabled>
                    </div>
                </div>
                <div class="error-message" id="q3-error">Please select at least one challenge</div>
            </div>

            <!-- Email Section -->
            <div class="email-section">
                <h2 class="question-title">ðŸ“§ Your Gmail Address <span class="required">*</span></h2>
                <p class="question-subtext">Kabhi haal chal puchne ke liye!!</p>
                <div class="email-input-container">
                    <input type="text" id="user_email" name="email" class="email-input" placeholder="Enter your username" required pattern="[a-zA-Z0-9._%+-]+">
                    <span class="gmail-suffix">@gmail.com</span>
                </div>
                <div class="error-message" id="email-error">Please enter a valid Gmail username</div>
            </div>

            <button type="submit" class="submit-btn">Submit Survey</button>
        </form>    </div>
    
    <script>
        // Configuration - Update these URLs for production
        const API_CONFIG = {
            BASE_URL: 'https://YOUR_RAILWAY_APP_NAME.railway.app', // Replace with your Railway backend URL
            ENDPOINTS: {
                SURVEY: '/api/survey/submit/'
            }
        };

        // Sound management
        let soundEnabled = true;
        const soundToggle = document.getElementById('soundToggle');

        // Create a soft, aesthetic click sound
        function createClickSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Create multiple oscillators for a richer, softer sound
            const frequencies = [440, 554.37, 659.25]; // A, C#, E (A major chord)
            
            frequencies.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                // Connect nodes: oscillator -> filter -> gain -> destination
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Use sine wave for softer sound
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                
                // Low-pass filter for warmth
                filterNode.type = 'lowpass';
                filterNode.frequency.setValueAtTime(800, audioContext.currentTime);
                filterNode.Q.setValueAtTime(1, audioContext.currentTime);
                
                // Gentle volume envelope
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.04, audioContext.currentTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.4);
                
                oscillator.start(audioContext.currentTime + index * 0.05);
                oscillator.stop(audioContext.currentTime + 0.4);
            });
        }

        // Create a beautiful success sound
        function createSuccessSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Magical ascending arpeggio with soft tones
            const melody = [
                { freq: 261.63, time: 0 },     // C4
                { freq: 329.63, time: 0.12 },  // E4
                { freq: 392.00, time: 0.24 },  // G4
                { freq: 523.25, time: 0.36 },  // C5
                { freq: 659.25, time: 0.48 },  // E5
                { freq: 783.99, time: 0.6 }    // G5
            ];
            
            melody.forEach((note, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                const reverbGain = audioContext.createGain();
                const delayNode = audioContext.createDelay();
                
                // Create reverb effect
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Add subtle delay for spaciousness
                gainNode.connect(delayNode);
                delayNode.connect(reverbGain);
                reverbGain.connect(audioContext.destination);
                
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(note.freq, audioContext.currentTime + note.time);
                
                // Warm filter
                filterNode.type = 'lowpass';
                filterNode.frequency.setValueAtTime(1200, audioContext.currentTime + note.time);
                filterNode.Q.setValueAtTime(0.5, audioContext.currentTime + note.time);
                
                // Delay settings
                delayNode.delayTime.setValueAtTime(0.1, audioContext.currentTime + note.time);
                reverbGain.gain.setValueAtTime(0.15, audioContext.currentTime + note.time);
                
                // Soft volume envelope
                gainNode.gain.setValueAtTime(0, audioContext.currentTime + note.time);
                gainNode.gain.exponentialRampToValueAtTime(0.04, audioContext.currentTime + note.time + 0.02);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + note.time + 0.5);
                
                oscillator.start(audioContext.currentTime + note.time);
                oscillator.stop(audioContext.currentTime + note.time + 0.5);
            });
        }

        // Create a gentle focus sound
        function createFocusSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const filterNode = audioContext.createBiquadFilter();
            
            oscillator.connect(filterNode);
            filterNode.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // Soft C note
            
            // Very warm filter
            filterNode.type = 'lowpass';
            filterNode.frequency.setValueAtTime(600, audioContext.currentTime);
            filterNode.Q.setValueAtTime(2, audioContext.currentTime);
            
            // Very gentle volume
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.015, audioContext.currentTime + 0.05);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        // Toggle sound on/off
        soundToggle.addEventListener('click', function() {
            soundEnabled = !soundEnabled;
            this.textContent = soundEnabled ? 'ðŸ”Š' : 'ðŸ”‡';
            if (soundEnabled) {
                createClickSound();
            }
        });

        // Handle "Other" option functionality
        const otherCheckbox = document.getElementById('q3_other');
        const otherInput = document.getElementById('other_text');

        otherCheckbox.addEventListener('change', function() {
            if (this.checked) {
                otherInput.style.display = 'block';
                otherInput.disabled = false;
                otherInput.required = true;
                otherInput.focus();
            } else {
                otherInput.style.display = 'none';
                otherInput.disabled = true;
                otherInput.required = false;
                otherInput.value = '';
            }
        });

        // Validation functions
        function validateQuestion1() {
            const question1 = document.querySelector('input[name="question1"]:checked');
            const error = document.getElementById('q1-error');
            if (!question1) {
                error.style.display = 'block';
                return false;
            }
            error.style.display = 'none';
            return true;
        }

        function validateQuestion2() {
            const question2 = document.querySelector('input[name="question2"]:checked');
            const error = document.getElementById('q2-error');
            if (!question2) {
                error.style.display = 'block';
                return false;
            }
            error.style.display = 'none';
            return true;
        }

        function validateQuestion3() {
            const question3 = document.querySelectorAll('input[name="question3"]:checked');
            const error = document.getElementById('q3-error');
            const otherChecked = document.getElementById('q3_other').checked;
            const otherText = document.getElementById('other_text').value.trim();
            
            if (question3.length === 0) {
                error.style.display = 'block';
                return false;
            }
            
            if (otherChecked && !otherText) {
                error.textContent = 'Please specify your other challenge';
                error.style.display = 'block';
                return false;
            }
            
            error.style.display = 'none';
            return true;
        }

        function validateEmail() {
            const emailInput = document.getElementById('user_email');
            const error = document.getElementById('email-error');
            const emailValue = emailInput.value.trim();
            
            if (!emailValue) {
                error.textContent = 'Please enter a Gmail username';
                error.style.display = 'block';
                return false;
            }
            
            // Check for valid Gmail username format
            const gmailPattern = /^[a-zA-Z0-9._%+-]+$/;
            if (!gmailPattern.test(emailValue)) {
                error.textContent = 'Please enter a valid Gmail username (letters, numbers, dots, and hyphens only)';
                error.style.display = 'block';
                return false;
            }
            
            error.style.display = 'none';
            return true;
        }        // Handle form submission
        document.getElementById('techSurveyForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Validate all fields
            const isValid1 = validateQuestion1();
            const isValid2 = validateQuestion2();
            const isValid3 = validateQuestion3();
            const isValidEmail = validateEmail();
            
            if (!isValid1 || !isValid2 || !isValid3 || !isValidEmail) {
                return;
            }
            
            // Show loading state
            const submitBtn = document.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;
            
            try {
                // Collect form data
                const formData = new FormData(this);
                const emailUsername = document.getElementById('user_email').value.trim();
                const fullEmail = emailUsername + '@gmail.com';
                
                const responses = {
                    timestamp: new Date().toISOString(),
                    question1: formData.get('question1'),
                    question2: formData.get('question2'),
                    question3: formData.getAll('question3'),
                    email: fullEmail,
                    otherSpecification: otherInput.value || null
                };                // Send data to backend API
                const response = await fetch(`${API_CONFIG.BASE_URL}${API_CONFIG.ENDPOINTS.SURVEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                    },
                    body: JSON.stringify(responses),
                    mode: 'cors'
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                console.log('Survey submitted successfully:', result);
                
                // Play success sound
                if (soundEnabled) {
                    createSuccessSound();
                }
                
                // Show success message
                alert('Thank you for your responses! Your survey has been submitted successfully.');
                
                // Reset form
                this.reset();
                otherInput.style.display = 'none';
                otherInput.disabled = true;
                otherInput.required = false;
                
            } catch (error) {
                console.error('Error submitting survey:', error);
                alert('Sorry, there was an error submitting your survey. Please try again.');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Add smooth highlighting animations and sound effects
        document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
            input.addEventListener('change', function() {
                // Play soft click sound
                if (soundEnabled) {
                    createClickSound();
                }
                
                // Add a subtle animation when selected
                const label = this.nextElementSibling;
                label.style.transform = 'scale(1.01)';
                setTimeout(() => {
                    label.style.transform = 'scale(1)';
                }, 150);
            });
        });

        // Add gentle sound to email input focus
        document.getElementById('user_email').addEventListener('focus', function() {
            if (soundEnabled) {
                createFocusSound();
            }
        });

        // Real-time validation
        document.querySelectorAll('input[name="question1"]').forEach(input => {
            input.addEventListener('change', validateQuestion1);
        });

        document.querySelectorAll('input[name="question2"]').forEach(input => {
            input.addEventListener('change', validateQuestion2);
        });

        document.querySelectorAll('input[name="question3"]').forEach(input => {
            input.addEventListener('change', validateQuestion3);
        });

        document.getElementById('user_email').addEventListener('input', validateEmail);
        document.getElementById('other_text').addEventListener('input', validateQuestion3);
    </script>
</body>
</html>